<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>游戏经济监控权威蓝图</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Brilliant Blues -->
    <!-- Application Structure Plan: The infographic follows the five-part narrative of the source report, creating a top-to-bottom visual journey. It starts with foundational concepts (Core Loop, KPI Pyramid), moves to the technical backbone (Data Engine), showcases a practical application (Analyst's Dashboard), and finishes with advanced strategies (Immune System, Action Loop). This linear, scrolling structure is ideal for an infographic, telling a coherent story from theory to practice and making complex information digestible for game designers, analysts, and producers. -->
    <!-- Visualization & Content Choices: 
        1. Core Loop Diagram (Organize): Goal is to explain the Faucet/Sink model. Method is an HTML/CSS flexbox diagram. It's the most intuitive way to show a process flow without SVG/Mermaid.
        2. KPI Pyramid (Organize): Goal is to show the hierarchy of metrics. Method is a CSS-styled pyramid. This visually represents the "tiered" concept from the report more effectively than a simple list.
        3. Data Engine Flow (Organize): Goal is to show the data pipeline. Method is an HTML/CSS flow diagram. It simplifies a complex technical process for a wider audience.
        4. Segmented Bar Chart (Compare): Goal is to demonstrate the power of player segmentation. Method is a Chart.js Bar Chart comparing Sink/Faucet ratios. This makes the abstract concept of segmented analysis concrete and visual. NO SVG.
        5. Immune System Cards (Inform/Organize): Goal is to list detection methods. Method is a grid of styled HTML cards. This breaks down complex security topics into clean, readable chunks.
        6. Economic Flywheel (Organize): Goal is to illustrate the action loop. Method is a CSS-based circular diagram. This perfectly matches the "flywheel" metaphor from the source material, showing a continuous cycle. NO SVG.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { 
            font-family: 'Noto Sans SC', sans-serif; 
            background-color: #F7F9FB;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .section-title {
            color: #005F73;
        }
        .highlight-card {
            background-color: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .highlight-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
        }
        .accent-bg { background-color: #0A9396; }
        .accent-text { color: #0A9396; }
        .highlight-text { color: #EE9B00; }
        .gradient-text {
            background: linear-gradient(to right, #0A9396, #005F73);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .arrow {
            font-size: 2.5rem;
            color: #94D2BD;
        }
    </style>
</head>
<body class="text-slate-700">

    <div class="container mx-auto p-4 md:p-8 max-w-5xl">

        <!-- Header -->
        <header class="text-center mb-16">
            <h1 class="text-4xl md:text-5xl font-bold gradient-text mb-4">实时服务型游戏经济监控权威蓝图</h1>
            <p class="text-lg text-slate-600">一套关于产出、消耗与健康的系统性方法</p>
        </header>

        <!-- Section 1: Core Loop -->
        <section class="mb-20">
            <h2 class="text-3xl font-bold text-center mb-2 section-title">1. 经济核心循环</h2>
            <p class="text-center text-slate-600 mb-12 max-w-3xl mx-auto">一个健康的虚拟经济是资源在产出、转换和消耗之间的动态平衡。理解这个循环是所有监控工作的基础。</p>
            <div class="highlight-card">
                <div class="flex flex-col md:flex-row items-center justify-around space-y-8 md:space-y-0 p-6">
                    <div class="text-center">
                        <div class="text-5xl mb-2">💧</div>
                        <h3 class="text-xl font-bold accent-text">源头 (Faucets)</h3>
                        <p class="text-sm">向经济体注入资源</p>
                        <p class="text-xs text-slate-500 mt-1">任务奖励, 敌人掉落</p>
                    </div>
                    <div class="arrow hidden md:block">→</div>
                    <div class="arrow block md:hidden">↓</div>
                    <div class="text-center">
                        <div class="text-5xl mb-2">🔄</div>
                        <h3 class="text-xl font-bold highlight-text">转换 (Conversion)</h3>
                        <p class="text-sm">资源形态的转变</p>
                        <p class="text-xs text-slate-500 mt-1">制造, 玩家交易</p>
                    </div>
                    <div class="arrow hidden md:block">→</div>
                    <div class="arrow block md:hidden">↓</div>
                    <div class="text-center">
                        <div class="text-5xl mb-2">🔥</div>
                        <h3 class="text-xl font-bold text-red-500">消耗点 (Sinks)</h3>
                        <p class="text-sm">从经济体移除资源</p>
                        <p class="text-xs text-slate-500 mt-1">装备修理, 技能升级</p>
                    </div>
                </div>
            </div>
            <div class="mt-8 text-center bg-sky-50 border-l-4 border-sky-500 text-sky-800 p-4 rounded-r-lg max-w-2xl mx-auto">
                <p class="font-bold">核心洞察：Sink/Faucet比率</p>
                <p class="text-sm">该比率不仅是通胀指标，更是游戏核心动机循环健康度的“晴雨表”。比率过低意味着玩家缺乏消费目标；过高则可能导致玩家挫败流失。</p>
            </div>
        </section>

        <!-- Section 2: KPI Pyramid -->
        <section class="mb-20">
            <h2 class="text-3xl font-bold text-center mb-2 section-title">2. 经济健康指标(KPI)金字塔</h2>
            <p class="text-center text-slate-600 mb-12 max-w-3xl mx-auto">一个分层的指标体系，确保任何经济调整都能在宏观、核心、微观三个层面被全面评估。</p>
            <div class="flex flex-col items-center space-y-1">
                <div class="w-full md:w-2/3 lg:w-1/2 p-6 rounded-t-lg text-center text-white" style="background-color: #005F73;">
                    <h3 class="text-xl font-bold">第一层：宏观游戏健康</h3>
                    <p class="text-sm opacity-90">DAU/MAU, 留存率, ARPDAU, LTV</p>
                </div>
                <div class="w-full md:w-5/6 lg:w-2/3 p-6 text-center text-white" style="background-color: #0A9396;">
                    <h3 class="text-xl font-bold">第二层：核心经济健康</h3>
                    <p class="text-sm opacity-90">流通总量, Sink/Faucet比率, 通胀率, 基尼系数</p>
                </div>
                <div class="w-full lg:w-5/6 p-6 rounded-b-lg text-center text-slate-800" style="background-color: #94D2BD;">
                    <h3 class="text-xl font-bold">第三层：精细化产销</h3>
                    <p class="text-sm">顶级源头/消耗点排名, 道具产销速率, 市场交易量</p>
                </div>
            </div>
        </section>

        <!-- Section 3: Data Engine -->
        <section class="mb-20">
            <h2 class="text-3xl font-bold text-center mb-2 section-title">3. 数据基础：监控引擎</h2>
             <p class="text-center text-slate-600 mb-12 max-w-3xl mx-auto">强大的分析始于坚实的数据基础。通过精细化的事件追踪，构建一个从游戏客户端到分析平台的数据管道。</p>
            <div class="highlight-card">
                 <div class="flex flex-col md:flex-row items-center justify-around space-y-8 md:space-y-0 p-6">
                    <div class="text-center">
                        <div class="text-5xl mb-2">🎮</div>
                        <h3 class="text-xl font-bold accent-text">游戏事件</h3>
                        <p class="text-sm font-mono bg-slate-100 p-2 rounded mt-2">`resource_flow`<br>`item_flow`</p>
                    </div>
                    <div class="arrow hidden md:block">→</div>
                    <div class="arrow block md:hidden">↓</div>
                    <div class="text-center">
                        <div class="text-5xl mb-2">💾</div>
                        <h3 class="text-xl font-bold accent-text">数据仓库</h3>
                        <p class="text-sm font-mono bg-slate-100 p-2 rounded mt-2">BigQuery<br>Redshift</p>
                    </div>
                    <div class="arrow hidden md:block">→</div>
                    <div class="arrow block md:hidden">↓</div>
                     <div class="text-center">
                        <div class="text-5xl mb-2">📊</div>
                        <h3 class="text-xl font-bold accent-text">分析平台</h3>
                        <p class="text-sm font-mono bg-slate-100 p-2 rounded mt-2">Tableau<br>Looker</p>
                    </div>
                </div>
                <div class="mt-6 border-t border-slate-200 pt-4 text-center">
                    <p class="font-bold text-slate-800">关键设计：可审计账本</p>
                    <p class="text-sm text-slate-600">在每次交易事件中记录 `balance_before` 和 `balance_after`，通过验证 `before + change == after`，将日志系统升级为主动的经济“免疫系统”，实时发现漏洞。</p>
                </div>
            </div>
        </section>
        
        <!-- Section 4: Analyst's Dashboard -->
        <section class="mb-20">
            <h2 class="text-3xl font-bold text-center mb-2 section-title">4. 分析透镜：玩家分层的重要性</h2>
            <p class="text-center text-slate-600 mb-12 max-w-3xl mx-auto">对经济进行整体分析会产生误导。所有分析都必须进行分层，才能获得真正有意义的洞察，回答“发生在谁身上”的问题。</p>
            <div class="highlight-card p-6 md:p-8">
                <h3 class="text-xl font-bold text-center mb-4">不同玩家分层的Sink/Faucet比率对比</h3>
                <div class="chart-container">
                    <canvas id="segmentationChart"></canvas>
                </div>
                <p class="text-sm text-center text-slate-500 mt-4">图表清晰地揭示了不同玩家群体的经济行为差异。“鲸鱼用户”的消耗远大于产出，而“F2P玩家”则倾向于囤积资源。这种洞察是制定个性化干预措施的关键。</p>
            </div>
        </section>

        <!-- Section 5: Immune System -->
        <section class="mb-20">
            <h2 class="text-3xl font-bold text-center mb-2 section-title">5. 免疫系统：主动监控与风险管理</h2>
            <p class="text-center text-slate-600 mb-12 max-w-3xl mx-auto">从被动分析转向主动防御。利用数据主动识别经济漏洞、机器人和RMT（真实货币交易）行为，保护经济健康。</p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="highlight-card text-center">
                    <div class="text-4xl mb-3">📈</div>
                    <h4 class="font-bold">异常检测</h4>
                    <p class="text-sm text-slate-500">标记行为极端的玩家 (Z-score, 孤立森林)</p>
                </div>
                 <div class="highlight-card text-center">
                    <div class="text-4xl mb-3">🕸️</div>
                    <h4 class="font-bold">网络分析</h4>
                    <p class="text-sm text-slate-500">识别RMT打金团体 (社区发现算法)</p>
                </div>
                 <div class="highlight-card text-center">
                    <div class="text-4xl mb-3">⚖️</div>
                    <h4 class="font-bold">余额验证</h4>
                    <p class="text-sm text-slate-500">实时发现复制漏洞 (`balance_after`验证)</p>
                </div>
                 <div class="highlight-card text-center">
                    <div class="text-4xl mb-3">🔔</div>
                    <h4 class="font-bold">自动警报</h4>
                    <p class="text-sm text-slate-500">当关键指标偏离正常范围时自动通知</p>
                </div>
            </div>
        </section>

        <!-- Section 6: Action Loop -->
        <section>
            <h2 class="text-3xl font-bold text-center mb-2 section-title">6. 行动闭环：驱动增长的经济飞轮</h2>
            <p class="text-center text-slate-600 mb-12 max-w-3xl mx-auto">数据和洞察只有在转化为经过验证的行动时才能创造价值。通过科学的A/B测试，确保每一次经济调整都在为游戏的增长飞轮注入正向能量。</p>
            <div class="highlight-card p-8">
                <div class="flex flex-col items-center justify-center space-y-4">
                    <div class="p-4 bg-sky-100 rounded-lg text-center shadow">
                        <h4 class="font-bold text-sky-800">优化的经济</h4>
                        <p class="text-sm text-sky-700">通过A/B测试降低道具价格</p>
                    </div>
                    <div class="text-4xl text-sky-400">↓</div>
                     <div class="p-4 bg-emerald-100 rounded-lg text-center shadow">
                        <h4 class="font-bold text-emerald-800">更快乐的玩家</h4>
                        <p class="text-sm text-emerald-700">满意度提升</p>
                    </div>
                    <div class="text-4xl text-emerald-400">↓</div>
                    <div class="p-4 bg-amber-100 rounded-lg text-center shadow">
                        <h4 class="font-bold text-amber-800">更高的留存和LTV</h4>
                        <p class="text-sm text-amber-700">玩家更愿意长期留下</p>
                    </div>
                    <div class="text-4xl text-amber-400">↓</div>
                     <div class="p-4 bg-indigo-100 rounded-lg text-center shadow">
                        <h4 class="font-bold text-indigo-800">更多的新玩家</h4>
                        <p class="text-sm text-indigo-700">积极口碑带来增长</p>
                    </div>
                </div>
            </div>
        </section>

    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {

    const wrapLabel = (label) => {
        const max_width = 16;
        if (label.length <= max_width) {
            return label;
        }
        const words = label.split(' ');
        const lines = [];
        let current_line = '';
        for (const word of words) {
            if ((current_line + ' ' + word).trim().length > max_width) {
                lines.push(current_line.trim());
                current_line = word;
            } else {
                current_line = (current_line + ' ' + word).trim();
            }
        }
        if (current_line) {
            lines.push(current_line.trim());
        }
        return lines;
    };
    
    const tooltipTitleCallback = (tooltipItems) => {
        const item = tooltipItems[0];
        let label = item.chart.data.labels[item.dataIndex];
        if (Array.isArray(label)) {
          return label.join(' ');
        } else {
          return label;
        }
    };
    
    const segmentationData = {
        labels: ['F2P 玩家', '小鱼用户', '海豚用户', '鲸鱼用户', '成就型玩家', '社交型玩家'],
        datasets: [
            {
                label: '产出 (Faucet)',
                data: [100, 110, 150, 200, 180, 120],
                backgroundColor: '#94D2BD',
                borderColor: '#94D2BD',
                borderWidth: 1
            },
            {
                label: '消耗 (Sink)',
                data: [70, 90, 180, 400, 190, 140],
                backgroundColor: '#EE9B00',
                borderColor: '#EE9B00',
                borderWidth: 1
            }
        ]
    };

    const ctx = document.getElementById('segmentationChart').getContext('2d');
    const segmentationChart = new Chart(ctx, {
        type: 'bar',
        data: segmentationData,
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'top',
                },
                tooltip: {
                    callbacks: {
                        title: tooltipTitleCallback
                    },
                    mode: 'index',
                    intersect: false
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: '相对值'
                    }
                }
            }
        }
    });

});
</script>

</body>
</html>